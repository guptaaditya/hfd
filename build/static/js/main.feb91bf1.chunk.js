(this["webpackJsonphello-fresh"]=this["webpackJsonphello-fresh"]||[]).push([[0],{32:function(e,a,t){e.exports=t(46)},45:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),i=t.n(c),l=t(16),s=t(10),o=t(9),u=t(13),m=t(12),p=t(21),d=t(11),f=t(29),E=t.n(f),h=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).handleStarTap=e.handleStarTap.bind(Object(d.a)(e)),e}return Object(o.a)(t,[{key:"handleStarTap",value:function(e){var a=this.props,t=a.rate;(0,a.onStarTap)(t),e.preventDefault()}},{key:"render",value:function(){var e="fa fa-star-o";return this.props.filled&&(e="fa fa-star"),r.a.createElement("a",{href:"#",onClick:this.handleStarTap},r.a.createElement("i",{className:e}))}}]),t}(r.a.Component);h.defaultProps={onStarTap:E.a.func.isRequired,filled:!1};var v=function(e){var a=e.rating,t=e.onRatingChange,n=new Array(5).fill(!1);return n.fill(!0,0,a),r.a.createElement("div",{className:"stars"},r.a.createElement("li",null,n.map((function(e,a){return r.a.createElement(h,{key:a,rate:Number(a+1),filled:e,onStarTap:t})}))))},g=window.localStorage,b="HELLO_FRESH_GUPTAADITYA_ASSIGNMENT";var N=function(e){return Math.floor(Number(e)||0)},O=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).handleRatingChange=e.handleRatingChange.bind(Object(d.a)(e)),e}return Object(o.a)(t,[{key:"handleRatingChange",value:function(e){var a=this.props,t=a.onRatingChange,n=a.recipe;t(N(e),n.id)}},{key:"render",value:function(){var e=this.props.recipe;return e?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header",style:{background:"url(".concat(e.image,") no-repeat center")}}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"text"},r.a.createElement("h3",{className:"food"},e.name),r.a.createElement("p",{className:"info"},e.headline),r.a.createElement("i",{className:"fa fa-clock-o"}," ",e.time.substr(2,2)," Min"),r.a.createElement("i",{className:"fa fa-fire"}," ",e.calories)),r.a.createElement("div",{className:"ratings"},r.a.createElement(v,{rating:N(e.rating),onRatingChange:this.handleRatingChange})))):null}}]),t}(r.a.Component);O.defaultProps={recipe:null};var j=O,C=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetRecipesList()}},{key:"render",value:function(){var e=this.props,a=e.recipes,t=e.onRatingChange;return r.a.createElement("div",{className:"recipes-row"},a.map((function(e,a){var n=e.name.trim().split(" ").join("-");return r.a.createElement(p.a,{key:a,to:{pathname:"/recipe/".concat(n),state:{recipe:e}}},r.a.createElement(j,{recipe:e,onRatingChange:t}))})))}}]),t}(r.a.Component);C.defaultProps={recipes:[]};function R(){return{type:"ON_GET_RECIPES"}}function S(e){return{type:"ON_GET_RECIPES_SUCCESS",recipes:e}}function y(e,a){return{type:"ON_CHANGE_RECIPE_RATING",rating:e,recipeId:a}}var k=Object(l.b)((function(e){return{recipes:e.recipesList.recipes}}),(function(e){var a=function(a){return function(){return e(a.apply(void 0,arguments))}};return{onGetRecipesList:a(R),onRatingChange:a(y)}}))(C),_=t(2),I=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).state={recipe:null},e.handleRatingChange=e.handleRatingChange.bind(Object(d.a)(e)),e}return Object(o.a)(t,null,[{key:"getDerivedStateFromProps",value:function(e){var a=e.location,t=(a=void 0===a?{}:a).state,n=(t=void 0===t?{}:t).recipe,r=(n=void 0===n?{}:n).id,c=void 0===r?"":r;return{recipe:e.recipes.find((function(e){return e.id===c}))}}}]),Object(o.a)(t,[{key:"handleRatingChange",value:function(e){var a=this.props.onRatingChange,t=this.state.recipe;a(N(e),t.id)}},{key:"render",value:function(){var e=this.state.recipe;return e?r.a.createElement("div",{className:"recipeDetails"},r.a.createElement("div",{className:"header",style:{backgroundImage:"url(".concat(e.image,")")}}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"text"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell"},r.a.createElement("h1",{className:"food"},e.name),r.a.createElement("div",{className:"info"},e.headline)),r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"nutritionalFact"},r.a.createElement("h3",null,"Nutritional Fact"),r.a.createElement("ul",null,r.a.createElement("li",null,"Carbs:"," ",r.a.createElement("data",{value:e.carbos},e.carbos)),r.a.createElement("li",null,"Fats: ",r.a.createElement("data",{value:e.fats},e.fats)),r.a.createElement("li",null,"Protein:"," ",r.a.createElement("data",{value:e.proteins},e.proteins))))),r.a.createElement("div",{className:"cell",style:{flex:2}},r.a.createElement("i",{className:"fa fa-clock-o"}," ",e.time.substr(2,2)," Min"),r.a.createElement("i",{className:"fa fa-fire"}," ",e.calories),r.a.createElement("i",{className:"fa fa-heart"},r.a.createElement("span",{className:"badge"}," (",e.favorites,")")),r.a.createElement("div",{className:"ratings"},r.a.createElement(v,{rating:N(e.rating),onRatingChange:this.handleRatingChange})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"ingredients"},r.a.createElement("h3",null,"Ingredients: "),r.a.createElement("ol",null,e.ingredients.map((function(e,a){return r.a.createElement("li",{key:a},e)}))))),r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"description"},e.description)))))):"No such recipe found"}}]),t}(r.a.Component),w=Object(_.g)(I);var T=Object(l.b)((function(e){return{recipes:e.recipesList.recipes}}),(function(e){var a;return{onRatingChange:(a=y,function(){return e(a.apply(void 0,arguments))})}}))(w),G=t(4),P="/",x="/recipes",A="/recipe/:recipeNameSlug",L=Object(G.a)();function D(){return r.a.createElement(_.c,{history:L},r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:P},r.a.createElement(_.a,{to:x})),r.a.createElement(_.b,{exact:!0,path:x},r.a.createElement(k,null)),r.a.createElement(_.b,{exact:!0,path:A},r.a.createElement(T,null)),r.a.createElement(_.a,{to:x})))}var F=t(14),J=t(18),M={recipes:[]};var H=Object(F.c)({recipesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ON_GET_RECIPES_SUCCESS":return Object.assign({},e,{recipes:a.recipes});case"ON_CHANGE_RECIPE_RATING":return Object(J.a)(Object(J.a)({},e),{},{recipes:e.recipes.map((function(e){return e.id!==a.recipeId?e:Object(J.a)(Object(J.a)({},e),{},{rating:a.rating})}))});default:return e}}}),U=t(31),q=t(30),z=t(8),B=t.n(z),Y=t(7),$=B.a.mark(K);function K(){var e;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://s3-eu-west-1.amazonaws.com/frontend-dev-test/recipes.json").then((function(e){return e.json()}));case 3:return e=a.sent,a.next=6,Object(Y.g)(S(e));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),alert("It seems there is some issue with JSON fetching");case 11:case"end":return a.stop()}}),$,null,[[0,8]])}var Q,V=[Object(Y.h)("ON_GET_RECIPES",K)],W=Object(U.a)(V);var X=function(){var e;function a(){(e=Object(F.d)(H,function(){var e=g.getItem(b);if(!e)return{};try{return JSON.parse(e)}catch(a){return console.log("Corrupt State"),{}}}(),Object(F.a)(Q=Object(q.a)()))).subscribe((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="";try{a=JSON.stringify(e)}catch(t){console.log("Corrupt State"),a=""}return g.setItem(b,a)}(e.getState())})),W.map((function(e){return Q.run(e)})),window.$store=e}return function(){return e||a(),e}}()();var Z=function(){return r.a.createElement(l.a,{store:X},r.a.createElement(D,null))};t(45);i.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.feb91bf1.chunk.js.map